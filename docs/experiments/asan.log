[14:29] zstore1:build (dev *) | meson compile && sudo ./zstore
INFO: autodetecting backend as ninja
INFO: calculating backend command to run: /usr/local/bin/ninja
ninja: no work to do.
[DBG ../src/zstore_controller.cc:138 Init] mZone sizes 0
[DBG ../src/zstore_controller.cc:140 Init] Configure Zstore with configuration
[INFO ../src/zstore_controller.cc:362 register_controllers] Initializing NVMe Controllers
[DBG ../src/zstore_controller.cc:342 zns_dev_init] zns dev
[INFO ../src/device.cc:20 Init] Getting ns: 1, Zone size: 524288, zone cap: 275712, num of zones: 406
[INFO ../src/device.cc:20 Init] Getting ns: 2, Zone size: 524288, zone cap: 275712, num of zones: 406
[INFO ../src/zstore_controller.cc:328 register_ctrlr] Zone size: sectors 524288, bytes 2147483648
[INFO ../src/zstore_controller.cc:330 register_ctrlr] Zones: num 406, max open 14, active 14
[INFO ../src/zstore_controller.cc:332 register_ctrlr] Max zones append size: 131072, metadata size 0
[INFO ../src/zstore_controller.cc:193 Init] Initialization complete. Launching workers.
[DBG ../src/zstore_controller.cc:197 Init] ZstoreController launching threads
[INFO ../src/zstore_controller.cc:108 initIoThread] IO thread name IoThread id 1 on core 2
[INFO ../src/zstore_controller.cc:108 initIoThread] IO thread name IoThread id 2 on core 3
[INFO ../src/zstore_controller.cc:72 initDispatchThread] Create DispatchThread (id 3) on Core 1
[INFO ../src/zstore_controller.cc:81 initDispatchThread] Not using object
[INFO ../src/zstore_controller.cc:36 initHttpThread] Http thread name HttpThread id 4 on core 4
[INFO ../src/zstore_controller.cc:36 initHttpThread] Http thread name HttpThread id 5 on core 5
[INFO ../src/zstore_controller.cc:36 initHttpThread] Http thread name HttpThread id 6 on core 6
[INFO ../src/zstore_controller.cc:36 initHttpThread] Http thread name HttpThread id 7 on core 7
[INFO ../src/zstore_controller.cc:36 initHttpThread] Http thread name HttpThread id 8 on core 8
[INFO ../src/zstore_controller.cc:36 initHttpThread] Http thread name HttpThread id 9 on core 9
[INFO ../src/zstore_controller.cc:36 initHttpThread] Http thread name HttpThread id 10 on core 10
[INFO ../src/zstore_controller.cc:36 initHttpThread] Http thread name HttpThread id 11 on core 11
[INFO ../src/zstore_controller.cc:216 Init] ZstoreController Init finish
[INFO ../src/main.cc:51 main] Starting HTTP server with port 2000!

[INFO ../src/main.cc:103 main] Total IO 0, total time 1728311373435373ms, throughput 0 IOPS
[INFO ../src/main.cc:103 main] Total IO 0, total time 1728311374436345ms, throughput 0 IOPS
[INFO ../src/main.cc:103 main] Total IO 0, total time 1728311375437358ms, throughput 0 IOPS
[DBG ../src/include/http_server.h:28 async_do_get] start async do get
[DBG ../src/include/http_server.h:111 on_request] do enqueue write
[DBG ../src/common.cc:41 complete] Send the response.
[DBG ../src/include/boost_utils.h:108 handle_request] strt handler request
[DBG ../src/include/boost_utils.h:178 handle_request] dummy write return
[DBG ../src/include/http_server.h:174 send_response] Send_response.
=================================================================
==3880452==ERROR: AddressSanitizer: heap-use-after-free on address 0x511000014058 at pc 0x5a49c132d579 bp 0x7170127fe2e0 sp 0x7170127fe2d8
READ of size 8 at 0x511000014058 thread T3
    #0 0x5a49c132d578 in std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count(std::__weak_count<(__gnu_cxx::_Lock_policy)2> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr_base.h:1242:17
    #1 0x5a49c132d496 in std::__shared_ptr<session, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<session, void>(std::__weak_ptr<session, (__gnu_cxx::_Lock_policy)2> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr_base.h:1548:4
    #2 0x5a49c132d3ff in std::shared_ptr<session>::shared_ptr<session, void>(std::weak_ptr<session> const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr.h:381:4
    #3 0x5a49c12d45c2 in std::enable_shared_from_this<session>::shared_from_this() /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr.h:935:16
    #4 0x5a49c12c9b3b in session::send_response(boost::beast::http::message_generator&&) /home/shwsun/dev/zstore/build/../src/include/http_server.h:180:54
    #5 0x5a49c12c83e9 in complete(void*, spdk_nvme_cpl const*) /home/shwsun/dev/zstore/build/../src/common.cc:42:21
    #6 0x71701b90b2c4 in nvme_complete_request /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_internal.h:1468:3
    #7 0x71701b90b2c4 in nvme_tcp_req_complete /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_tcp.c:1072:2
    #8 0x71701b90d395 in nvme_tcp_req_complete_safe /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_tcp.c:915:2
    #9 0x71701b90d395 in nvme_tcp_req_complete_safe /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_tcp.c:898:1
    #10 0x71701b90d395 in nvme_tcp_c2h_data_payload_handle /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_tcp.c:1322:8
    #11 0x71701b90f93f in _nvme_tcp_pdu_payload_handle /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_tcp.c:1369:3
    #12 0x71701b90f93f in nvme_tcp_pdu_payload_handle /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_tcp.c:1538:2
    #13 0x71701b90f93f in nvme_tcp_read_pdu /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_tcp.c:2097:4
    #14 0x71701b90f93f in nvme_tcp_qpair_process_completions /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_tcp.c:2202:7
    #15 0x71701b905675 in spdk_nvme_qpair_process_completions /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_qpair.c:799:8
    #16 0x71701b90ae4b in nvme_tcp_qpair_sock_cb /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_tcp.c:2262:20
    #17 0x71701b80e623 in sock_group_impl_poll_count /home/shwsun/dev/zstore/subprojects/spdk/lib/sock/sock.c:728:3
    #18 0x71701b80e623 in spdk_sock_group_poll_count /home/shwsun/dev/zstore/subprojects/spdk/lib/sock/sock.c:754:8
    #19 0x71701b90aebb in nvme_tcp_poll_group_process_completions /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_tcp.c:2893:15
    #20 0x71701b9160a9 in spdk_nvme_poll_group_process_completions /home/shwsun/dev/zstore/subprojects/spdk/lib/nvme/nvme_poll_group.c:157:23
    #21 0x5a49c149ff54 in handleIoCompletions(void*) /home/shwsun/dev/zstore/build/../src/common.cc:177:9
    #22 0x71701b7e6c76 in thread_execute_poller /home/shwsun/dev/zstore/subprojects/spdk/lib/thread/thread.c:959:7
    #23 0x71701b7e6c76 in thread_poll /home/shwsun/dev/zstore/subprojects/spdk/lib/thread/thread.c:1085:15
    #24 0x71701b7e7b72 in spdk_thread_poll /home/shwsun/dev/zstore/subprojects/spdk/lib/thread/thread.c:1173:8
    #25 0x5a49c14a00c0 in ioWorker(void*) /home/shwsun/dev/zstore/build/../src/common.cc:191:9
    #26 0x71701b2f12bd in eal_thread_loop (/home/shwsun/dev/zstore/subprojects/spdk/dpdk/build/lib/librte_eal.so.24+0x272bd) (BuildId: 6400288b9f47f00572b6bd779be93291d230cd48)
    #27 0x71701b303b2e in eal_worker_thread_loop eal.c
    #28 0x5a49c11f6fbc in asan_thread_start(void*) crtstuff.c
    #29 0x71701a69ca93 in start_thread nptl/pthread_create.c:447:8
    #30 0x71701a729c3b in clone3 misc/../sysdeps/unix/sysv/linux/x86_64/clone3.S:78

0x511000014058 is located 24 bytes inside of 240-byte region [0x511000014040,0x511000014130)
freed by thread T6 here:
    #0 0x5a49c12383f1 in operator delete(void*) (/home/shwsun/dev/zstore/build-dbg/zstore+0x40a3f1) (BuildId: 3bb2c608f3b41d29)
    #1 0x5a49c150e251 in std::__new_allocator<std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>>::deallocate(std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/new_allocator.h:172:2
    #2 0x5a49c150e210 in std::allocator<std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>>::deallocate(std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/allocator.h:210:25
    #3 0x5a49c150e210 in std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>>>::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>>&, std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/alloc_traits.h:517:13
    #4 0x5a49c150e210 in std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>>>::~__allocated_ptr() /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/allocated_ptr.h:74:4
    #5 0x5a49c1518e18 in std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>::_M_destroy() /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr_base.h:623:7
    #6 0x5a49c12d2d55 in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release_last_use() /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr_base.h:191:6
    #7 0x5a49c12d2966 in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release_last_use_cold() /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr_base.h:199:9
    #8 0x5a49c12d2883 in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr_base.h:353:8
    #9 0x5a49c12d21d1 in std::__shared_count<(__gnu_cxx::_Lock_policy)2>::~__shared_count() /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr_base.h:1071:11
    #10 0x5a49c12d4a43 in std::__shared_ptr<session, (__gnu_cxx::_Lock_policy)2>::~__shared_ptr() /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr_base.h:1524:31
    #11 0x5a49c12d49ef in std::shared_ptr<session>::~shared_ptr() /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr.h:175:11
    #12 0x5a49c12d4b2f in boost::beast::detail::tuple_element_impl<0ul, std::shared_ptr<session>>::~tuple_element_impl() /usr/include/boost/beast/core/detail/tuple.hpp:25:8
    #13 0x5a49c133097f in boost::beast::detail::tuple_impl<boost::mp11::integer_sequence<unsigned long, 0ul>, std::shared_ptr<session>>::~tuple_impl() /usr/include/boost/beast/core/detail/tuple.hpp:55:8
    #14 0x5a49c133092f in boost::beast::detail::tuple<std::shared_ptr<session>>::~tuple() /usr/include/boost/beast/core/detail/tuple.hpp:68:8
    #15 0x5a49c13308e3 in boost::beast::detail::bind_front_wrapper<void (session::*)(boost::system::error_code, unsigned long), std::shared_ptr<session>>::~bind_front_wrapper() /usr/include/boost/beast/core/detail/bind_handler.hpp:216:7
    #16 0x5a49c13318b5 in boost::beast::async_base<boost::beast::detail::bind_front_wrapper<void (session::*)(boost::system::error_code, unsigned long), std::shared_ptr<session>>, boost::asio::any_io_executor, std::allocator<void>>::~async_base() /usr/include/boost/beast/core/async_base.hpp:273:35
    #17 0x5a49c133158c in boost::beast::stable_async_base<boost::beast::detail::bind_front_wrapper<void (session::*)(boost::system::error_code, unsigned long), std::shared_ptr<session>>, boost::asio::any_io_executor, std::allocator<void>>::~stable_async_base() /usr/include/boost/beast/core/async_base.hpp:710:5
    #18 0x5a49c133145f in boost::beast::http::detail::read_msg_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::basic_string_body<char, std::char_traits<char>, std::allocator<char>>, std::allocator<char>, boost::beast::detail::bind_front_wrapper<void (session::*)(boost::system::error_code, unsigned long), std::shared_ptr<session>>>::~read_msg_op() /usr/include/boost/beast/http/impl/read.hpp:58:7
    #19 0x5a49c1333843 in boost::asio::detail::composed_op<boost::beast::http::detail::read_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::detail::parser_is_done>, boost::asio::detail::composed_work<void (boost::asio::any_io_executor)>, boost::beast::http::detail::read_msg_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::basic_string_body<char, std::char_traits<char>, std::allocator<char>>, std::allocator<char>, boost::beast::detail::bind_front_wrapper<void (session::*)(boost::system::error_code, unsigned long), std::shared_ptr<session>>>, void (boost::system::error_code, unsigned long)>::~composed_op() /usr/include/boost/asio/compose.hpp:41:7
    #20 0x5a49c133a693 in boost::asio::detail::composed_op<boost::beast::http::detail::read_some_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true>, boost::asio::detail::composed_work<void (boost::asio::any_io_executor)>, boost::asio::detail::composed_op<boost::beast::http::detail::read_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::detail::parser_is_done>, boost::asio::detail::composed_work<void (boost::asio::any_io_executor)>, boost::beast::http::detail::read_msg_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::basic_string_body<char, std::char_traits<char>, std::allocator<char>>, std::allocator<char>, boost::beast::detail::bind_front_wrapper<void (session::*)(boost::system::error_code, unsigned long), std::shared_ptr<session>>>, void (boost::system::error_code, unsigned long)>, void (boost::system::error_code, unsigned long)>::~composed_op() /usr/include/boost/asio/compose.hpp:41:7
    #21 0x5a49c1346d68 in boost::beast::async_base<boost::asio::detail::composed_op<boost::beast::http::detail::read_some_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true>, boost::asio::detail::composed_work<void (boost::asio::any_io_executor)>, boost::asio::detail::composed_op<boost::beast::http::detail::read_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::detail::parser_is_done>, boost::asio::detail::composed_work<void (boost::asio::any_io_executor)>, boost::beast::http::detail::read_msg_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::basic_string_body<char, std::char_traits<char>, std::allocator<char>>, std::allocator<char>, boost::beast::detail::bind_front_wrapper<void (session::*)(boost::system::error_code, unsigned long), std::shared_ptr<session>>>, void (boost::system::error_code, unsigned long)>, void (boost::system::error_code, unsigned long)>, boost::asio::any_io_executor, std::allocator<void>>::~async_base() /usr/include/boost/beast/core/async_base.hpp:273:35
    #22 0x5a49c1346ce3 in boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>::ops::transfer_op<true, boost::asio::mutable_buffer, boost::asio::detail::composed_op<boost::beast::http::detail::read_some_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true>, boost::asio::detail::composed_work<void (boost::asio::any_io_executor)>, boost::asio::detail::composed_op<boost::beast::http::detail::read_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::detail::parser_is_done>, boost::asio::detail::composed_work<void (boost::asio::any_io_executor)>, boost::beast::http::detail::read_msg_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::basic_string_body<char, std::char_traits<char>, std::allocator<char>>, std::allocator<char>, boost::beast::detail::bind_front_wrapper<void (session::*)(boost::system::error_code, unsigned long), std::shared_ptr<session>>>, void (boost::system::error_code, unsigned long)>, void (boost::system::error_code, unsigned long)>>::~transfer_op() /usr/include/boost/beast/core/impl/basic_stream.hpp:217:7
    #23 0x5a49c135589f in boost::asio::detail::binder2<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>::ops::transfer_op<true, boost::asio::mutable_buffer, boost::asio::detail::composed_op<boost::beast::http::detail::read_some_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true>, boost::asio::detail::composed_work<void (boost::asio::any_io_executor)>, boost::asio::detail::composed_op<boost::beast::http::detail::read_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::detail::parser_is_done>, boost::asio::detail::composed_work<void (boost::asio::any_io_executor)>, boost::beast::http::detail::read_msg_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::basic_string_body<char, std::char_traits<char>, std::allocator<char>>, std::allocator<char>, boost::beast::detail::bind_front_wrapper<void (session::*)(boost::system::error_code, unsigned long), std::shared_ptr<session>>>, void (boost::system::error_code, unsigned long)>, void (boost::system::error_code, unsigned long)>>, boost::system::error_code, unsigned long>::~binder2() /usr/include/boost/asio/detail/bind_handler.hpp:252:7
    #24 0x5a49c1356ee4 in void boost::asio::detail::executor_function::complete<boost::asio::detail::binder2<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>::ops::transfer_op<true, boost::asio::mutable_buffer, boost::asio::detail::composed_op<boost::beast::http::detail::read_some_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true>, boost::asio::detail::composed_work<void (boost::asio::any_io_executor)>, boost::asio::detail::composed_op<boost::beast::http::detail::read_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::detail::parser_is_done>, boost::asio::detail::composed_work<void (boost::asio::any_io_executor)>, boost::beast::http::detail::read_msg_op<boost::beast::basic_stream<boost::asio::ip::tcp, boost::asio::any_io_executor, boost::beast::unlimited_rate_policy>, boost::beast::basic_flat_buffer<std::allocator<char>>, true, boost::beast::http::basic_string_body<char, std::char_traits<char>, std::allocator<char>>, std::allocator<char>, boost::beast::detail::bind_front_wrapper<void (session::*)(boost::system::error_code, unsigned long), std::shared_ptr<session>>>, void (boost::system::error_code, unsigned long)>, void (boost::system::error_code, unsigned long)>>, boost::system::error_code, unsigned long>, std::allocator<void>>(boost::asio::detail::executor_function::impl_base*, bool) /usr/include/boost/asio/detail/executor_function.hpp:118:3
    #25 0x5a49c14e9a0b in boost::asio::detail::executor_function::operator()() /usr/include/boost/asio/detail/executor_function.hpp:64:7
    #26 0x5a49c14e98c7 in void boost::asio::asio_handler_invoke<boost::asio::detail::executor_function>(boost::asio::detail::executor_function&, ...) /usr/include/boost/asio/handler_invoke_hook.hpp:88:3
    #27 0x5a49c14e31ce in void boost_asio_handler_invoke_helpers::invoke<boost::asio::detail::executor_function, boost::asio::detail::executor_function>(boost::asio::detail::executor_function&, boost::asio::detail::executor_function&) /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:54:3
    #28 0x5a49c14e96a5 in boost::asio::detail::executor_op<boost::asio::detail::executor_function, std::allocator<void>, boost::asio::detail::scheduler_operation>::do_complete(void*, boost::asio::detail::scheduler_operation*, boost::system::error_code const&, unsigned long) /usr/include/boost/asio/detail/executor_op.hpp:71:7
    #29 0x5a49c149ed12 in boost::asio::detail::scheduler_operation::complete(void*, boost::system::error_code const&, unsigned long) /usr/include/boost/asio/detail/scheduler_operation.hpp:40:5
    #30 0x5a49c14e684b in boost::asio::detail::strand_executor_service::run_ready_handlers(std::shared_ptr<boost::asio::detail::strand_executor_service::strand_impl>&) /usr/include/boost/asio/detail/impl/strand_executor_service.ipp:150:8
    #31 0x5a49c14e646e in boost::asio::detail::strand_executor_service::invoker<boost::asio::io_context::basic_executor_type<std::allocator<void>, 4ul> const, void>::operator()() /usr/include/boost/asio/detail/impl/strand_executor_service.hpp:136:5

previously allocated by thread T12 here:
    #0 0x5a49c1237b71 in operator new(unsigned long) (/home/shwsun/dev/zstore/build-dbg/zstore+0x409b71) (BuildId: 3bb2c608f3b41d29)
    #1 0x5a49c1519357 in std::__new_allocator<std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>>::allocate(unsigned long, void const*) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/new_allocator.h:151:27
    #2 0x5a49c150daef in std::allocator<std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>>::allocate(unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/allocator.h:198:32
    #3 0x5a49c150daef in std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>>>::allocate(std::allocator<std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>>&, unsigned long) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/alloc_traits.h:482:20
    #4 0x5a49c150daef in std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>>> std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>>>(std::allocator<std::_Sp_counted_ptr_inplace<session, std::allocator<void>, (__gnu_cxx::_Lock_policy)2>>&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/allocated_ptr.h:98:21
    #5 0x5a49c150ca7f in std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<session, std::allocator<void>, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>, std::shared_ptr<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const>&, ZstoreController&>(session*&, std::_Sp_alloc_shared_tag<std::allocator<void>>, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>&&, std::shared_ptr<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const>&, ZstoreController&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr_base.h:969:19
    #6 0x5a49c150c876 in std::__shared_ptr<session, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<void>, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>, std::shared_ptr<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const>&, ZstoreController&>(std::_Sp_alloc_shared_tag<std::allocator<void>>, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>&&, std::shared_ptr<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const>&, ZstoreController&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr_base.h:1712:14
    #7 0x5a49c150c70b in std::shared_ptr<session>::shared_ptr<std::allocator<void>, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>, std::shared_ptr<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const>&, ZstoreController&>(std::_Sp_alloc_shared_tag<std::allocator<void>>, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>&&, std::shared_ptr<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const>&, ZstoreController&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr.h:464:4
    #8 0x5a49c15074ee in std::shared_ptr<session> std::make_shared<session, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>, std::shared_ptr<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const>&, ZstoreController&>(boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>&&, std::shared_ptr<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char>> const>&, ZstoreController&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/shared_ptr.h:1009:14
    #9 0x5a49c14cc1b5 in listener::on_accept(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>) /home/shwsun/dev/zstore/build/../src/include/http_server.h:280:13
    #10 0x5a49c14d6b76 in void std::__invoke_impl<void, void (listener::* const&)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>, boost::system::error_code const&, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>(std::__invoke_memfun_deref, void (listener::* const&)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>&&, boost::system::error_code const&, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/invoke.h:74:14
    #11 0x5a49c14d696f in std::__invoke_result<void (listener::* const&)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>, boost::system::error_code const&, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>::type std::__invoke<void (listener::* const&)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>, boost::system::error_code const&, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>(void (listener::* const&)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>&&, boost::system::error_code const&, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/invoke.h:96:14
    #12 0x5a49c14d6871 in decltype(std::__invoke((*this)._M_pmf, std::forward<std::shared_ptr<listener>>(fp), std::forward<boost::system::error_code const&>(fp), std::forward<boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>(fp))) std::_Mem_fn_base<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), true>::operator()<std::shared_ptr<listener>, boost::system::error_code const&, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>(std::shared_ptr<listener>&&, boost::system::error_code const&, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>&&) const /usr/bin/../lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/functional:170:11
    #13 0x5a49c14d65a0 in void boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>::invoke<0ul, boost::system::error_code const&, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>(std::integral_constant<bool, true>, boost::mp11::integer_sequence<unsigned long, 0ul>, boost::system::error_code const&, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>&&) /usr/include/boost/beast/core/detail/bind_handler.hpp:249:9
    #14 0x5a49c14d6380 in void boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>::operator()<boost::system::error_code const&, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>(boost::system::error_code const&, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>&&) /usr/include/boost/beast/core/detail/bind_handler.hpp:272:9
    #15 0x5a49c14d62b5 in boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>::operator()() /usr/include/boost/asio/detail/bind_handler.hpp:886:5
    #16 0x5a49c14f3ec7 in void boost::asio::asio_handler_invoke<boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>>(boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>&, ...) /usr/include/boost/asio/handler_invoke_hook.hpp:88:3
    #17 0x5a49c14f3e69 in void boost::beast::detail::asio_handler_invoke<boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>&>(boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>&, boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>*) /usr/include/boost/beast/core/detail/bind_handler.hpp:287:16
    #18 0x5a49c14d3342 in void boost_asio_handler_invoke_helpers::invoke<boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>, boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>>(boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>&, boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>&) /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:54:3
    #19 0x5a49c14d4afb in void boost::asio::detail::asio_handler_invoke<boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>&, boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>(boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>&, boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>*) /usr/include/boost/asio/detail/bind_handler.hpp:936:3
    #20 0x5a49c14d4a42 in void boost_asio_handler_invoke_helpers::invoke<boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>, boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>>(boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>&, boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>&) /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:54:3
    #21 0x5a49c14d485b in void boost::asio::detail::executor_function::complete<boost::asio::detail::move_binder2<boost::beast::detail::bind_front_wrapper<void (listener::*)(boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::any_io_executor>), std::shared_ptr<listener>>, boost::system::error_code, boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::strand<boost::asio::io_context::basic_executor_type<std::allocator<void>, 0ul>>>>, std::allocator<void>>(boost::asio::detail::executor_function::impl_base*, bool) /usr/include/boost/asio/detail/executor_function.hpp:116:7
    #22 0x5a49c14e9a0b in boost::asio::detail::executor_function::operator()() /usr/include/boost/asio/detail/executor_function.hpp:64:7
    #23 0x5a49c14e98c7 in void boost::asio::asio_handler_invoke<boost::asio::detail::executor_function>(boost::asio::detail::executor_function&, ...) /usr/include/boost/asio/handler_invoke_hook.hpp:88:3
    #24 0x5a49c14e31ce in void boost_asio_handler_invoke_helpers::invoke<boost::asio::detail::executor_function, boost::asio::detail::executor_function>(boost::asio::detail::executor_function&, boost::asio::detail::executor_function&) /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:54:3
    #25 0x5a49c14e96a5 in boost::asio::detail::executor_op<boost::asio::detail::executor_function, std::allocator<void>, boost::asio::detail::scheduler_operation>::do_complete(void*, boost::asio::detail::scheduler_operation*, boost::system::error_code const&, unsigned long) /usr/include/boost/asio/detail/executor_op.hpp:71:7
    #26 0x5a49c149ed12 in boost::asio::detail::scheduler_operation::complete(void*, boost::system::error_code const&, unsigned long) /usr/include/boost/asio/detail/scheduler_operation.hpp:40:5
    #27 0x5a49c14e684b in boost::asio::detail::strand_executor_service::run_ready_handlers(std::shared_ptr<boost::asio::detail::strand_executor_service::strand_impl>&) /usr/include/boost/asio/detail/impl/strand_executor_service.ipp:150:8
    #28 0x5a49c14e646e in boost::asio::detail::strand_executor_service::invoker<boost::asio::io_context::basic_executor_type<std::allocator<void>, 4ul> const, void>::operator()() /usr/include/boost/asio/detail/impl/strand_executor_service.hpp:136:5
    #29 0x5a49c14e6367 in void boost::asio::asio_handler_invoke<boost::asio::detail::strand_executor_service::invoker<boost::asio::io_context::basic_executor_type<std::allocator<void>, 4ul> const, void>>(boost::asio::detail::strand_executor_service::invoker<boost::asio::io_context::basic_executor_type<std::allocator<void>, 4ul> const, void>&, ...) /usr/include/boost/asio/handler_invoke_hook.hpp:88:3
    #30 0x5a49c14e4cfe in void boost_asio_handler_invoke_helpers::invoke<boost::asio::detail::strand_executor_service::invoker<boost::asio::io_context::basic_executor_type<std::allocator<void>, 4ul> const, void>, boost::asio::detail::strand_executor_service::invoker<boost::asio::io_context::basic_executor_type<std::allocator<void>, 4ul> const, void>>(boost::asio::detail::strand_executor_service::invoker<boost::asio::io_context::basic_executor_type<std::allocator<void>, 4ul> const, void>&, boost::asio::detail::strand_executor_service::invoker<boost::asio::io_context::basic_executor_type<std::allocator<void>, 4ul> const, void>&) /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:54:3
    #31 0x5a49c14e4545 in void boost::asio::io_context::basic_executor_type<std::allocator<void>, 4ul>::execute<boost::asio::detail::strand_executor_service::invoker<boost::asio::io_context::basic_executor_type<std::allocator<void>, 4ul> const, void>>(boost::asio::detail::strand_executor_service::invoker<boost::asio::io_context::basic_executor_type<std::allocator<void>, 4ul> const, void>&&) const /usr/include/boost/asio/impl/io_context.hpp:294:7

Thread T3 created by T0 here:
    #0 0x5a49c11dee45 in pthread_create (/home/shwsun/dev/zstore/build-dbg/zstore+0x3b0e45) (BuildId: 3bb2c608f3b41d29)
    #1 0x71701b2df3ab in rte_eal_init.cold eal.c

Thread T6 created by T0 here:
    #0 0x5a49c11dee45 in pthread_create (/home/shwsun/dev/zstore/build-dbg/zstore+0x3b0e45) (BuildId: 3bb2c608f3b41d29)
    #1 0x71701b2df3ab in rte_eal_init.cold eal.c

Thread T12 created by T0 here:
    #0 0x5a49c11dee45 in pthread_create (/home/shwsun/dev/zstore/build-dbg/zstore+0x3b0e45) (BuildId: 3bb2c608f3b41d29)
    #1 0x71701b2df3ab in rte_eal_init.cold eal.c

SUMMARY: AddressSanitizer: heap-use-after-free /home/shwsun/dev/zstore/build/../src/include/http_server.h:180:54 in session::send_response(boost::beast::http::message_generator&&)
Shadow bytes around the buggy address:
  0x511000013d80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x511000013e00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x511000013e80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x511000013f00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x511000013f80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=>0x511000014000: fa fa fa fa fa fa fa fa fd fd fd[fd]fd fd fd fd
  0x511000014080: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x511000014100: fd fd fd fd fd fd fa fa fa fa fa fa fa fa fa fa
  0x511000014180: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x511000014200: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x511000014280: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==3880452==ABORTING
[14:29] zstore1:build (dev *) |

